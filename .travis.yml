language: php

before_install:
  - curl https://ltb-project.org/lib/RPM-GPG-KEY-LTB-project | sudo apt-key add -
  # Travis use ubuntu trusty. trusty is based on debian jessie but the deb for jessie does not work on trusty
  # We use the wheezy deb instead which works fine on trusty.
  # cf. http://ltb-dev.ltb-project.narkive.com/dxtCIWcW/ldap-tool-box-bug-804-new-ubuntu-trusty-slapd-doesn-t-start-with-default-install
  - echo "deb [arch=amd64] https://ltb-project.org/debian/wheezy wheezy main" | sudo tee -a /etc/apt/sources.list
  - sudo apt-get update -qq
  - sudo apt-get install openldap-ltb